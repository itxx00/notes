"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3890],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var i=t(96540);const l={},o=i.createContext(l);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(o.Provider,{value:n},e.children)}},37870:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"shell-advanced/devil-in-loop","title":"\u5faa\u73af\u4e2d\u7684\u5751\u70b9","description":"\u6848\u4f8b1\uff1a\u7ba1\u9053\u4e4b\u540e\u7684while","source":"@site/docs/02-shell-advanced/07-devil-in-loop.md","sourceDirName":"02-shell-advanced","slug":"/shell-advanced/devil-in-loop","permalink":"/notes/docs/shell-advanced/devil-in-loop","draft":false,"unlisted":false,"editUrl":"https://github.com/itxx00/notes/tree/main/docs/02-shell-advanced/07-devil-in-loop.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"format-output","permalink":"/notes/docs/shell-advanced/format-output"},"next":{"title":"dialog","permalink":"/notes/docs/shell-advanced/dialog"}}');var l=t(74848),o=t(28453);const s={sidebar_position:7},d="\u5faa\u73af\u4e2d\u7684\u5751\u70b9",r={},c=[{value:"\u6848\u4f8b1\uff1a\u7ba1\u9053\u4e4b\u540e\u7684while",id:"\u6848\u4f8b1\u7ba1\u9053\u4e4b\u540e\u7684while",level:2},{value:"\u6848\u4f8b2\uff1awhile\u4e4b\u540e\u7684\u91cd\u5b9a\u5411\u6587\u4ef6",id:"\u6848\u4f8b2while\u4e4b\u540e\u7684\u91cd\u5b9a\u5411\u6587\u4ef6",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u5faa\u73af\u4e2d\u7684\u5751\u70b9",children:"\u5faa\u73af\u4e2d\u7684\u5751\u70b9"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6848\u4f8b1\u7ba1\u9053\u4e4b\u540e\u7684while",children:"\u6848\u4f8b1\uff1a\u7ba1\u9053\u4e4b\u540e\u7684while"}),"\n",(0,l.jsx)(n.h2,{id:"\u6848\u4f8b2while\u4e4b\u540e\u7684\u91cd\u5b9a\u5411\u6587\u4ef6",children:"\u6848\u4f8b2\uff1awhile\u4e4b\u540e\u7684\u91cd\u5b9a\u5411\u6587\u4ef6"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"    while read -r line; do\n        [[ -n $line ]] || continue\n        echo $line\n    done </tmp/testfile\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\uff0c why\uff1f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"\u276f file /tmp/testfile\n/tmp/testfile: Unicode text, UTF-8 text, with no line terminators\n"})}),"\n",(0,l.jsx)(n.p,{children:"how to fix \uff1f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'f=/tmp/testfile\n[[ -n "$(tail -c1 $f)" ]] && echo >>$f\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);