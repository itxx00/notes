"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4458],{826:(e,s,n)=>{n.d(s,{A:()=>d});const d=n.p+"assets/images/io-e85e8c348de01db828293fd4e9e99e39.png"},5944:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"shell-basic/syntax-io","title":"\u8f93\u5165\u8f93\u51fa\u4e0e\u7ba1\u9053","description":"\u672c\u8282\u6211\u4eec\u719f\u6089bash\u4e2d\u7684\u8f93\u5165\u8f93\u51fa\u548c\u7ba1\u9053\u7684\u64cd\u4f5c\u3002","source":"@site/docs/01-shell-basic/07-syntax-io.md","sourceDirName":"01-shell-basic","slug":"/shell-basic/syntax-io","permalink":"/notes/docs/shell-basic/syntax-io","draft":false,"unlisted":false,"editUrl":"https://github.com/itxx00/notes/tree/main/docs/01-shell-basic/07-syntax-io.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u5faa\u73af","permalink":"/notes/docs/shell-basic/syntax-loop"},"next":{"title":"\u6587\u4ef6","permalink":"/notes/docs/shell-basic/syntax-file"}}');var t=n(4848),r=n(8453);const i={sidebar_position:7},c="\u8f93\u5165\u8f93\u51fa\u4e0e\u7ba1\u9053",l={},h=[{value:"\u6807\u51c6\u8f93\u5165\u8f93\u51fa",id:"\u6807\u51c6\u8f93\u5165\u8f93\u51fa",level:2},{value:"\u91cd\u5b9a\u5411",id:"\u91cd\u5b9a\u5411",level:2},{value:"\u7ba1\u9053",id:"\u7ba1\u9053",level:2}];function a(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"\u8f93\u5165\u8f93\u51fa\u4e0e\u7ba1\u9053",children:"\u8f93\u5165\u8f93\u51fa\u4e0e\u7ba1\u9053"})}),"\n",(0,t.jsx)(s.p,{children:"\u672c\u8282\u6211\u4eec\u719f\u6089bash\u4e2d\u7684\u8f93\u5165\u8f93\u51fa\u548c\u7ba1\u9053\u7684\u64cd\u4f5c\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"\u6807\u51c6\u8f93\u5165\u8f93\u51fa",children:"\u6807\u51c6\u8f93\u5165\u8f93\u51fa"}),"\n",(0,t.jsx)(s.p,{children:"\u5f53\u4e00\u4e2abash\u8fdb\u7a0b\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u4ea7\u751f\u4e00\u4e2a\u8fdb\u7a0bid\u5373pid\uff0c\u6bcf\u4e2apid\u4e0b\u9762\u4f1a\u6253\u5f00\u82e5\u5e72\u6587\u4ef6\uff0c\u4e00\u4e2a\u6587\u4ef6\u5bf9\u5e94\u4e00\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u7531\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4fdd\u7559\u6709\u4e09\u4e2a\u7279\u6b8a\u542b\u4e49\u7684\u6570\u5b570\u30011\u30012\uff0c\u5206\u522b\u8868\u793a\u6807\u51c6\u8f93\u5165(stdin)\uff0c\u6807\u51c6\u8f93\u51fa(stdout)\u548c\u6807\u51c6\u9519\u8bef(stderr)\uff0c\u5f53\u542f\u52a8\u4e00\u4e2abash\u8fdb\u7a0b\u7684\u65f6\u5019\u4ee5\u4e0a\u4e09\u4e2a\u6587\u4ef6\u63cf\u8ff0\u7b26\u9ed8\u8ba4\u6253\u5f00\uff0c\u5982\u679c\u6211\u4eec\u8981\u6253\u5f00\u65b0\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u800c\u53c8\u4e0d\u548c\u8fd9\u4e09\u4e2a\u51b2\u7a81\u7684\u8bdd\u5c31\u9700\u8981\u4ece3\u5f00\u59cb\u3002bash\u4e2d\u9ed8\u8ba4\u7684\u6807\u51c6\u8f93\u5165\u662f\u952e\u76d8\uff0c\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u662f\u5c4f\u5e55\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u6807\u51c6\u8f93\u5165\u8f93\u51fa\u8fdb\u884c\u91cd\u5b9a\u5411\u3002\n\u4e0b\u9762\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u6765\u4e86\u89e3bash\u4e2d\u5982\u4f55\u64cd\u4f5c\u8f93\u5165\u8f93\u51fa\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# \u4ece\u952e\u76d8\u83b7\u53d6\u8f93\u5165\uff0c\u8d4b\u503c\u5230\u53d8\u91cfstr1\nread -p 'input plz: ' str1\n# \u5c06\u53d8\u91cf\u503c\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa\necho $str1\n# \u5c06\u53d8\u91cf\u503c\u8f93\u51fa\u5230\u6807\u51c6\u9519\u8bef\necho $str1 >&2\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u770b\u4e00\u4e0b\u6267\u884c\u7ed3\u679c\uff1a"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"io",src:n(826).A+"",width:"1002",height:"236"})}),"\n",(0,t.jsxs)(s.p,{children:["\u4ee5\u4e0a\u901a\u8fc7",(0,t.jsx)(s.code,{children:"read"}),"\u547d\u4ee4\u548c",(0,t.jsx)(s.code,{children:"echo"}),"\u547d\u4ee4\u6f14\u793a\u4e86\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u64cd\u4f5c\u6807\u51c6\u8f93\u5165\u3001\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\u3002"]}),"\n",(0,t.jsx)(s.h2,{id:"\u91cd\u5b9a\u5411",children:"\u91cd\u5b9a\u5411"}),"\n",(0,t.jsx)(s.p,{children:"\u8f93\u5165\u3001\u8f93\u51fa\u90fd\u652f\u6301\u91cd\u5b9a\u5411\uff0c\u610f\u601d\u662f\u8f93\u5165\u4e0d\u7528\u952e\u76d8\u800c\u6539\u7528\u5176\u4ed6\u7684\uff0c\u8f93\u51fa\u4e5f\u4e0d\u5230\u5c4f\u5e55\u4e86\u800c\u662f\u8f93\u51fa\u5230\u522b\u7684\u5730\u65b9\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"date >/dev/null\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u4e0a\u9762\u628adate\u547d\u4ee4\u7684\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u4e86null\u9ed1\u6d1e\u6587\u4ef6\uff0c\u8fd9\u6837\u5c4f\u5e55\u4e0a\u5c31\u4e0d\u4f1a\u8f93\u51fa\u4e86\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u91cd\u5b9a\u5411\u7b26\u53f7 ",(0,t.jsx)(s.code,{children:"<"})," \u548c ",(0,t.jsx)(s.code,{children:">"})," \u4e0e\u8f93\u5165\u8f93\u51fa\u7684\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\u8868\u6240\u793a\uff1a"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u6807\u51c6\u6587\u4ef6"}),(0,t.jsx)(s.th,{children:"\u6587\u4ef6\u63cf\u8ff0\u7b26"}),(0,t.jsx)(s.th,{children:"\u91cd\u5b9a\u5411\u7b26\u53f7"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"stdin"}),(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"<"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"stdout"}),(0,t.jsx)(s.td,{children:"1"}),(0,t.jsx)(s.td,{children:"1>"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"stderr"}),(0,t.jsx)(s.td,{children:"2"}),(0,t.jsx)(s.td,{children:"2>"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:["\u5176\u4e2d ",(0,t.jsx)(s.code,{children:">"})," \u9ed8\u8ba4\u4e0d\u5e26\u6570\u5b57\u5c31\u6807\u51c6\u8f93\u51fa\uff0c\u6240\u4ee5 ",(0,t.jsx)(s.code,{children:"1>"})," \u4e2d\u7684 ",(0,t.jsx)(s.code,{children:"1"})," \u53ef\u4ee5\u7701\u7565\u3002\u9664\u4e86\u6b64\u4ee5\u5916\u8fd8\u6709\u66f4\u591a\u7684\u91cd\u5b9a\u5411\u7b26\u53f7\uff0c\u5e38\u89c1\u7684\u6709\uff1a"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u7b26\u53f7"}),(0,t.jsx)(s.th,{children:"\u4f5c\u7528"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:">"}),(0,t.jsx)(s.td,{children:"\u8986\u76d6\u6a21\u5f0f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:">>"}),(0,t.jsx)(s.td,{children:"\u8ffd\u52a0\u6a21\u5f0f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"&>"}),(0,t.jsx)(s.td,{children:"\u540c\u65f6\u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa\u548c\u6807\u51c6\u9519\u8bef\uff0c\u8986\u76d6\u6a21\u5f0f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"&>>"}),(0,t.jsx)(s.td,{children:"\u540c\u4e0a\uff0c\u8ffd\u52a0\u6a21\u5f0f"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"2>&1"}),(0,t.jsx)(s.td,{children:"\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fa"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:">&2"}),(0,t.jsx)(s.td,{children:"\u91cd\u5b9a\u5411\u6807\u51c6\u8f93\u51fa\u5230\u6807\u51c6\u9519\u8bef"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"\u4e0b\u9762\u4e3e\u4e2a\u4f8b\u5b50\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\n\nlog() {\n    echo "$*" >>a.log\n}\n\nlog "$(date)"\nlog "$(data 2>&1)"\n'})}),"\n",(0,t.jsx)(s.p,{children:"\u6267\u884c\u770b\u4e0b\u6548\u679c\uff1a"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"redirect",src:n(6578).A+"",width:"987",height:"196"})}),"\n",(0,t.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230log\u51fd\u6570\u628a\u8f93\u5165\u91cd\u5b9a\u5411\u5230a.log\u6587\u4ef6\uff0c\u7b2c\u4e00\u884clog\u628adate\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u51fa\u8bb0\u5f55\u4e0b\u6765\uff0c\u7b2c\u4e8c\u884clog\u540e\u9762\u56e0\u4e3a\u6267\u884c\u7684\u4e00\u4e2a\u65e0\u6548\u7684\u547d\u4ee4\uff0c\u56e0\u6b64\u4f1a\u4ea7\u751f\u6807\u51c6\u9519\u8bef\uff0c\u4f7f\u7528\u4e86\u91cd\u5b9a\u5411\u628a\u5b83\u8f93\u51fa\u5230\u4e86\u6807\u51c6\u8f93\u51fa\uff0c\u5426\u5219\u4f1a\u76f4\u63a5\u8f93\u51fa\u5230\u5c4f\u5e55\u3002"}),"\n",(0,t.jsx)(s.h2,{id:"\u7ba1\u9053",children:"\u7ba1\u9053"}),"\n",(0,t.jsxs)(s.p,{children:["\u8bb2\u5230\u8f93\u5165\u8f93\u51fa\u5c31\u4e0d\u5f97\u4e0d\u63d0\u53ca\u7ba1\u9053\uff0c\u7ba1\u9053\u7b26 ",(0,t.jsx)(s.code,{children:"|"})," \u7528\u4e8e\u8fde\u63a5\u4e24\u4e2a\u547d\u4ee4\u4f7f\u5f97\u7ba1\u9053\u5de6\u8fb9\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u51fa\u4f5c\u4e3a\u7ba1\u9053\u540e\u8fb9\u547d\u4ee4\u7684\u6807\u51c6\u8f93\u5165\u3002\u7ba1\u9053\u5728bash\u811a\u672c\u7f16\u7a0b\u4e2d\u4f1a\u7ecf\u5e38\u7528\u5230\uff0c\u56e0\u4e3a\u5f88\u591a\u5e38\u7528\u547d\u4ee4\u90fd\u80fd\u63a5\u6536\u6807\u51c6\u8f93\u5165\uff0c\u901a\u8fc7\u7ba1\u9053\u8fde\u63a5\u4e0d\u540c\u7684\u547d\u4ee4\u7ec4\u5408\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u628a\u4e0d\u540c\u7684\u201c\u96f6\u90e8\u4ef6\u201d\u62fc\u63a5\u6210\u5404\u5f0f\u5404\u6837\u7684\u529f\u80fd\u6a21\u5757\u3002\u4e0b\u9762\u901a\u8fc7\u4f8b\u5b50\u611f\u53d7\u4e0b\u7ba1\u9053\u7684\u7528\u9014\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# \u8f93\u51fa\u78c1\u76d8\u4f7f\u7528\u767e\u5206\u6bd4\u6700\u5927\u7684\u6302\u8f7d\u70b9\ndf -P | sort -n -k5 | tail -1 | awk '{print $NF}'\n# \u6740\u6b7b\u6240\u6709\u542bhttpd\u5173\u952e\u5b57\u7684\u8fdb\u7a0b\nps -ef | grep httpd | grep -v grep | awk '{print $2}' | xargs kill\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u53ef\u4ee5\u770b\u5230\u901a\u8fc7\u7ba1\u9053\u8fde\u63a5\u591a\u4e2a\u547d\u4ee4\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u8fdb\u884c\u4e00\u7cfb\u5217\u7684\u7ec4\u5408\u64cd\u4f5c\uff0c\u800c\u4e0d\u9700\u8981\u518d\u5355\u72ec\u7ba1\u7406\u6bcf\u4e2a\u547d\u4ee4\u7684\u8f93\u51fa\uff0c\u8fd9\u6781\u5927\u63d0\u5347\u4e86\u7ec4\u5408\u62fc\u88c5\u7684\u6548\u7387\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\u7ba1\u9053\u7b26",(0,t.jsx)(s.code,{children:"|"}),"\u9ed8\u8ba4\u53ea\u80fd\u5f80\u53f3\u8fb9\u4f20\u6807\u51c6\u8f93\u51fa\uff0c\u800c\u60f3\u8981\u628a\u6807\u51c6\u9519\u8bef\u4e5f\u4e00\u8d77\u4f20\u8fc7\u53bb\u5219\u9700\u8981\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"|&"}),"  \uff0c\u6216\u8005\u63d0\u524d\u5c06\u6807\u51c6\u9519\u8bef\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"\u7f8e\u5973 |& \u91ce\u517d\n\u7f8e\u5973 2>&1 | \u91ce\u517d\n"})})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},6578:(e,s,n)=>{n.d(s,{A:()=>d});const d=n.p+"assets/images/redirect-c20b7ab275107a254450b2e6ea5db98c.png"},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var d=n(6540);const t={},r=d.createContext(t);function i(e){const s=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),d.createElement(r.Provider,{value:s},e.children)}}}]);