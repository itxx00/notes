"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7218],{4404:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>l,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var t=r(5893),s=r(3905);const a={layout:"post",title:"OpenVPN+MySQL\u73af\u5883\u642d\u5efa\u8bb0\u5f55",description:"",categories:["system"],tags:["openvpn","freeradius"]},i=void 0,c={permalink:"/notes/blog/2011/09/02/openvpn-mysql-setup",editUrl:"https://github.com/itxx00/notes/tree/main/blog/2011-09-02-openvpn-mysql-setup.md",source:"@site/blog/2011-09-02-openvpn-mysql-setup.md",title:"OpenVPN+MySQL\u73af\u5883\u642d\u5efa\u8bb0\u5f55",description:"",date:"2011-09-02T00:00:00.000Z",formattedDate:"2011\u5e749\u67082\u65e5",tags:[{label:"openvpn",permalink:"/notes/blog/tags/openvpn"},{label:"freeradius",permalink:"/notes/blog/tags/freeradius"}],readingTime:8.045,hasTruncateMarker:!1,authors:[],frontMatter:{layout:"post",title:"OpenVPN+MySQL\u73af\u5883\u642d\u5efa\u8bb0\u5f55",description:"",categories:["system"],tags:["openvpn","freeradius"]},unlisted:!1,prevItem:{title:"\u5982\u4f55\u8ba9ThinkPad\u81ea\u5b9a\u4e49\u98ce\u6247\u8f6c\u901f",permalink:"/notes/blog/2012/05/21/thinkpad-fan-speed-control"},nextItem:{title:"\u4f7f\u7528wpa-supplicant\u914d\u7f6e\u65e0\u7ebf\u7f51\u7edc",permalink:"/notes/blog/2011/05/05/centos-wpa-supplicant-wireless"}},o={authorsImageUrls:[]},d=[];function p(n){const e={a:"a",blockquote:"blockquote",code:"code",p:"p",pre:"pre",...(0,s.ah)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"\u672c\u6587\u8bb0\u5f55\u4e86\u5728centos5.5\u7cfb\u7edf\u4e2d\u642d\u5efaopenvpn+mysql+freeradius\u7684\u8fc7\u7a0b"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u7cfb\u7edf\u73af\u5883\uff1acentos5.5"}),"\n",(0,t.jsx)(e.p,{children:"Eth0\uff1a192.168.0.2"}),"\n",(0,t.jsx)(e.p,{children:"\u6821\u51c6\u7cfb\u7edf\u65f6\u95f4\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"ntpdate ntp.api.bz\nhwclock -w\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6240\u9700\u8f6f\u4ef6\u5305\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"yum install openssl openssl-devel gcc gcc-c++ mysql mysql-devel mysql-server php php-gd php-devel php-pear php-pear-DB php-mysql php-pdo php-cli php-mbstring php-mcrypt httpd\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4e0b\u8f7d\u6e90\u7801\u5305\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"wget http://www.oberhumer.com/opensource/lzo/download/lzo-2.05.tar.gz\nwget http://swupdate.openvpn.net/community/releases/openvpn-2.2.0.tar.gz\nwget ftp://ftp.freeradius.org/pub/freeradius/freeradius-server-2.1.10.tar.gz\nwget http://sourceforge.net/projects/daloradius/files/daloradius/daloradius0.9-9/daloradius-0.9-9-rc1.tar.gz/download\nwget http://www.nongnu.org/radiusplugin/radiusplugin_v2.1a_beta1.tar.gz\nwget http://sourceforge.net/projects/phpmyadmin/files%2FphpMyAdmin%2F2.11.11.3%2FphpMyAdmin-2.11.11.3-all-languages.tar.bz2/download\n"})}),"\n",(0,t.jsx)(e.p,{children:"1.\u5b89\u88c5lzo-2.0.5  \u4f7fopenvpn\u652f\u6301\u538b\u7f29\u529f\u80fd"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar xf lzo-2.05.tar.gz &&cd lzo-*\n./configure\nmake && make install\ncd ..\n"})}),"\n",(0,t.jsx)(e.p,{children:"2.\u5b89\u88c5openvpn\u670d\u52a1"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar xf openvpn-2.2.0.tar.gz &&cd openvpn-*\n./configure\nmake && make install\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u590d\u5236\u8bc1\u4e66\u751f\u6210\u6240\u9700\u6587\u4ef6"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"mkdir /etc/openvpn && cp easy-rsa /etc/openvpn -r\n"})}),"\n",(0,t.jsx)(e.p,{children:"3.\u5b89\u88c5radiusplugin"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar xf radiusplugin_v2.1a_beta1.tar.gz && cd radiusplugin_*\nmake #\u5c06\u4f1a\u751f\u6210radiusplugin.so \u5c06\u5176cp\u5230/etc/openvpn\u76ee\u5f55\u4e0b\ncp radiusplugin.cnf /etc/openvpn/conf/\n"})}),"\n",(0,t.jsx)(e.p,{children:"4.\u751f\u6210\u670d\u52a1\u7aef\u6240\u9700\u8bc1\u4e66"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"cd /etc/openvpn/easy-rsa/2.0/\nvi vars   #\u7f16\u8f91\u53d8\u91cf\n.  vars  #source\u547d\u4ee4\u4f7f\u53d8\u91cf\u751f\u6548\n./clean-all\n./build-ca  #ca.crt ---Root CA\u8bc1\u4e66\uff0c\u7528\u4e8e\u7b7e\u53d1Server\u548cClient\u8bc1\u4e66\n./build-key-server server #server.crt server.key-\u521b\u5efa\u5e76\u7b7e\u53d1VPN Server\u4f7f\u7528\u7684CA\n./build-key client1 #client1.crt client1.key #\u5982\u679c\u5ba2\u6237\u7aef\u9700\u8981\u4f7f\u7528\u8bc1\u4e66\u65b9\u5f0f\u8ba4\u8bc1\u5219\u9700\u8981\u8fd9\u4e2a\u4e1c\u4e1c\uff0c\u521b\u5efa\u5ba2\u6237\u7aef\u8bc1\u4e66\uff0c\u4e00\u4e2a\u5ba2\u6237\u7aef\u4e00\u4e2a\u8bc1\u4e66\n./build-key client2\n./build-dh  #dh1024.pem--\u751f\u6210Diffie-Hellman\u6587\u4ef6 ,TLS\u7528\u5230\nopenvpn --genkey --secret keys/ta.key #\u751f\u6210tls auth key\n\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u590d\u5236\u8bc1\u4e66\u6587\u4ef6\u5230\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"mkdir /etc/openvpn/conf && cd keys\ncp ca.crt server.crt server.key dh1024.pem ta.key /etc/openvpn/conf/\ntar czf clientkey.tgz ca.crt client1.crt client1.key # \u5982\u679c\u5ba2\u6237\u7aef\u4f7f\u7528\u8bc1\u4e66\u65b9\u5f0f\u8ba4\u8bc1\u5219\u8fd9\u91cc\u9700\u8981\u8fd9\u4e2a\u4e1c\u4e1c\uff0c\u672c\u6587\u4ecb\u7ecd\u7684radius\u65b9\u5f0f\u4e0d\u9700\u8981\u3002 \n"})}),"\n",(0,t.jsx)(e.p,{children:"5.\u7f16\u8f91openvpn\u670d\u52a1\u7aef\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:"vi /etc/openvpn/conf/server.conf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'port 1194\nproto udp\ndev tap   #TAP\u8bbe\u5907\u662f\u4e00\u5757\u865a\u62df\u7684\u4ee5\u592a\u7f51\u5361\uff0cTUN\u8bbe\u5907\u662f\u4e00\u4e2a\u865a\u62df\u7684\u70b9\u5230\u70b9IP\u94fe\u63a5\u3002 \nca /etc/openvpn/conf/ca.crt\ncert /etc/openvpn/conf/server.crt\nkey /etc/openvpn/conf/server.key  # This file should be kept secret\ndh /etc/openvpn/conf/dh1024.pem\nserver 10.8.0.0 255.255.255.0\nifconfig-pool-persist ipp.txt\npush "redirect-gateway def1 bypass-dhcp"\npush "dhcp-option DNS 10.8.0.1"\npush "dhcp-option DNS 208.67.222.222"\npush "dhcp-option DNS 208.67.220.220"\nclient-to-client\nkeepalive 10 120\n\ntls-auth /etc/openvpn/conf/ta.key 0\n\ncomp-lzo\nuser nobody\ngroup nobody\npersist-key\npersist-tun\nstatus openvpn-status.log\nverb 3\n\nclient-to-client #\u5982\u679c\u8ba9Client\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u770b\u89c1\uff0c\u53bb\u6389\u672c\u884c\u7684\u6ce8\u91ca\u6389\uff0c\u5426\u5219Client\u4e4b\u95f4\u65e0\u6cd5\u76f8\u4e92\u8bbf\u95ee\n\n;duplicate-cn  #\u662f\u5426\u5141\u8bb8\u4e00\u4e2aUser\u540c\u65f6\u767b\u5f55\u591a\u6b21\uff0c\u53bb\u6389\u672c\u884c\u6ce8\u91ca\u540e\u53ef\u4ee5\u4f7f\u7528\u540c\u4e00\u4e2a\u7528\u6237\u540d\u767b\u5f55\u591a\u6b21\n\nclient-cert-not-required #\u5ba2\u6237\u7aef\u4e0d\u4f7f\u7528CA\u8bc1\u4e66\u9a8c\u8bc1\n\nusername-as-common-name #\u4f7f\u7528\u5ba2\u6237\u63d0\u4f9b\u7684UserName\u4f5c\u4e3aCommon Name\n\n;max-clients 1000  #\u6700\u5927\u8fde\u63a5\u6570\n\nplugin /etc/openvpn/radiusplugin.so /etc/openvpn/conf/radiusplugin.cnf #radius\u63d2\u4ef6\n\nscript-security 3\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u7f16\u8f91radius\u63d2\u4ef6\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsx)(e.p,{children:"vi /etc/openvpn/conf/radiusplugin.cnf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"NAS-Identifier=OpenVpn\nService-Type=5\nFramed-Protocol=1\nNAS-Port-Type=5\nNAS-IP-Address=127.0.0.1\nOpenVPNConfig=/etc/openvpn/conf/server.conf\nsubnet=255.255.255.0\noverwriteccfiles=true\nnonfatalaccounting=false\nserver\n{\n        # The UDP port for radius accounting.\n        acctport=1813\n        # The UDP port for radius authentication.\n        authport=1812\n        # The name or ip address of the radius server.\n        name=127.0.0.1\n        # How many times should the plugin send the if there is no response?\n        retry=1\n        # How long should the plugin wait for a response?\n        wait=1\n        # The shared secret.\n        sharedsecret=testpw\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u542f\u52a8openvpn"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"/usr/local/sbin/openvpn  --cd /etc/openvpn \\\n --config /etc/openvpn/conf/server.conf &\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u914d\u7f6e\u5185\u6838\u8def\u7531\u8f6c\u53d1\u548ciptables"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"sysctl -w net.ipv4.ip_forward=1\niptables -t nat -A POSTROUTING -j MASQUERADE\niptables -A INPUT -p udp  --dport 1194 -j ACCEPT\n"})}),"\n",(0,t.jsx)(e.p,{children:"6.\u5b89\u88c5freeradius"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar  xf  freeradius-server-2.1.10.tar.bz2\ncd  freeradius-*\n./configure\nmake && make install\nvi /etc/ld.so.conf\n#\u52a0\u5165:\n/usr/local/lib\n#\u7136\u540e\nldconfig\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u542f\u52a8mysql"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"/etc/init.d/mysqld start\n#\u521d\u59cb\u5316mysql\nmysql_secure_installation\nmysql -uroot -p\ncreate database radius;\ncd /usr/local/etc/raddb/sql/mysql\nmysql -uroot -p radius < schema.sql\nmysql -uroot -p < admin.sql\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u914d\u7f6eradiusd"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"cd /usr/local/etc/raddb\nvi radiusd.conf\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"prefix = /usr/local\nexec_prefix = ${prefix}\nsysconfdir = ${prefix}/etc\nlocalstatedir = ${prefix}/var\nsbindir = ${exec_prefix}/sbin\nlogdir = ${localstatedir}/log/radius\nraddbdir = ${sysconfdir}/raddb\nradacctdir = ${logdir}/radacct\nname = radiusd\nconfdir = ${raddbdir}\nrun_dir = ${localstatedir}/run/${name}\ndb_dir = ${raddbdir}\nlibdir = ${exec_prefix}/lib\npidfile = ${run_dir}/${name}.pid\nmax_request_time = 30\ncleanup_delay = 5\nmax_requests = 1024\nlisten {\n        type = auth\n        ipaddr = *\n        port = 0\n}\nlisten {\n        ipaddr = *\n        port = 0\n        type = acct\n}\nhostname_lookups = no\nallow_core_dumps = no\nregular_expressions     = yes\nextended_expressions    = yes\nlog {\n        destination = files\n        file = ${logdir}/radius.log\n        syslog_facility = daemon\n        stripped_names = no\n        auth = no\n        auth_badpass = no\n        auth_goodpass = no\n}\ncheckrad = ${sbindir}/checkrad\nsecurity {\n        max_attributes = 200\n        reject_delay = 1\n        status_server = yes\n}\nproxy_requests  = yes\n$INCLUDE proxy.conf\n$INCLUDE clients.conf\nthread pool {\n        start_servers = 5\n        max_servers = 32\n        min_spare_servers = 3\n        max_spare_servers = 10\n        max_requests_per_server = 0\n}\nmodules {\n        $INCLUDE ${confdir}/modules/\n        $INCLUDE eap.conf\n        $INCLUDE sql.conf\n        $INCLUDE sql/mysql/counter.conf\n        $INCLUDE sqlippool.conf\n}\ninstantiate {\n        exec\n        expr\n        expiration\n        logintime\n}\n$INCLUDE policy.conf\n$INCLUDE sites-enabled/\n"})}),"\n",(0,t.jsx)(e.p,{children:"vi clients.conf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"client localhost {\n        ipaddr = 127.0.0.1\n        secret          = testpw\n        require_message_authenticator = no\n}\nclient 192.168.0.2 {\n        ipaddr = 192.168.0.2\n        secret          = testpw\n        require_message_authenticator = no\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"vi sites-enabled/default"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"authorize {\n        preprocess\n        chap\n        mschap\n        digest\n        suffix\n        eap {\n                ok = return\n        }\n        sql\n        expiration\n        logintime\n        pap\n}\nauthenticate {\n        Auth-Type PAP {\n                pap\n        }\n        Auth-Type CHAP {\n                chap\n        }\n        Auth-Type MS-CHAP {\n                mschap\n        }\n        digest\n        unix\n        eap\n}\npreacct {\n        preprocess\n        acct_unique\n        suffix\n        files\n}\naccounting {\n        detail\n        radutmp\n        sql\n        exec\n        attr_filter.accounting_response\n}\nsession {\n        radutmp\n}\npost-auth {\n        exec\n        Post-Auth-Type REJECT {\n                attr_filter.access_reject\n        }\n}\npost-proxy {\n        eap\n}\n"})}),"\n",(0,t.jsx)(e.p,{children:"vi  sql.conf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'sql {\n        database = "mysql"\n        driver = "rlm_sql_${database}"\n        server = "localhost"\n        port = 3306\n        login = "radius"\n        password = "radpass"\n        radius_db = "radius"\n        acct_table1 = "radacct"\n        acct_table2 = "radacct"\n        postauth_table = "radpostauth"\n        authcheck_table = "radcheck"\n        authreply_table = "radreply"\n        groupcheck_table = "radgroupcheck"\n        groupreply_table = "radgroupreply"\n        usergroup_table = "radusergroup"\n        deletestalesessions = yes\n        sqltrace = no\n        sqltracefile = ${logdir}/sqltrace.sql\n        num_sql_socks = 5\n        connect_failure_retry_delay = 60\n        lifetime = 0\n        max_queries = 0\n        readclients = yes\n        nas_table = "nas"\n        $INCLUDE sql/${database}/dialup.conf\n}\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u542f\u52a8radius\uff1a ",(0,t.jsx)(e.code,{children:"radiusd  &"})]}),"\n",(0,t.jsx)(e.p,{children:"\u5b89\u88c5phpmyadmin\u7ba1\u7406mysql"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar xf phpMyAdmin-2.11.11.3-all-languages.tar.gz -C /var/www/\nmv /var/www/phpMyadmin* /var/www/phpmyadmin && cd /var/www/phpmyadmin\ncp config.sample.inc.php config.inc.php\nvi config.inc.php \u4fee\u6539\u4ee5\u4e0b\n$cfg['blowfish_secret'] = 'ADKFdkfjdl959435dfkds^%&';\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5b89\u88c5daloradius\u7ba1\u7406freeradius"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar xf daloradius-0.9-9-rc1.tar.gz -C /var/www/\ncd /var/www\nmv daloradius* daloradius\ncd /var/www/daloradius/contrib/db\nMysql -uroot -p radius < mysql-daloradius.sql\nMysql -uroot -p radius < fr2-mysql-daloradius-and-freeradius.sql\nchown apache:apache /var/www/daloradius -R\nchmod 644 /var/www/daloradius/library/daloradius.conf .php#\u914d\u7f6e\u6587\u4ef6\u9700\u8981\u7ed9\u4e88\u5199\u6743\u9650\n"})}),"\n",(0,t.jsx)(e.p,{children:"vi /var/www/daloradius/library/daloradius.conf.php"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"$configValues['CONFIG_DB_ENGINE'] = 'mysql';\n$configValues['CONFIG_DB_HOST'] = 'localhost';\n$configValues['CONFIG_DB_USER'] = 'radiusadmin';\n$configValues['CONFIG_DB_PASS'] = 'radiusadmin';\n$configValues['CONFIG_DB_NAME'] = 'radius';\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u6b64\u5904\u7684radiusadmin\u8d26\u53f7\u662f\u5728phpmyadmin\u91cc\u521b\u5efa\u7684\u5e76\u7ed9\u4e88radius\u5e93\u76f8\u5e94\u64cd\u4f5c\u6743\u9650\uff1b"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"touch /tmp/daloradius.log\nchown apache.apache /tmp/daloradius.log\n"})}),"\n",(0,t.jsx)(e.p,{children:"vi /etc/httpd/conf/httpd.conf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'Alias /radius "/var/www/daloradius/"\n<Directory /var/www/daloradius/>\n      Options None\n      order deny,allow\n      deny from all\n      allow from 127.0.0.1\n      allow from 192.168.0.0/24\n</Directory>\nAlias /phpmyadmin "/var/www/phpmyadmin/"\n<Directory /var/www/phpmyadmin/>\n      Options None\n      order deny,allow\n      deny from all\n      allow from 127.0.0.1\n      allow from 192.168.0.0/24\n   </Directory>\n'})}),"\n",(0,t.jsxs)(e.p,{children:["\u542f\u52a8apache  ",(0,t.jsx)(e.code,{children:"/etc/init.d/httpd restart"})]}),"\n",(0,t.jsxs)(e.p,{children:["\u8bbf\u95ee ",(0,t.jsx)(e.a,{href:"http://192.168.0.2/radius",children:"http://192.168.0.2/radius"})]}),"\n",(0,t.jsx)(e.p,{children:"username: administrator, password: radius"}),"\n",(0,t.jsx)(e.p,{children:"\u5728\u7528\u6237\u7ba1\u7406\u91cc\u9762\u6dfb\u52a0\u4e00\u4e2a\u8d26\u53f7\uff0c\u5373\u53ef\u7528\u8fd9\u4e2a\u8d26\u53f7\u8fdb\u884c\u8ba4\u8bc1\u767b\u9646\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["windows\u5ba2\u6237\u7aef\u4e0b\u8f7d\uff1a",(0,t.jsx)(e.a,{href:"http://swupdate.openvpn.net/community/releases/openvpn-2.2.0-install.exe",children:"http://swupdate.openvpn.net/community/releases/openvpn-2.2.0-install.exe"})]}),"\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6X:\\Program Files\\OpenVPN\\config\\client.ovpn"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"client\ndev tap\nproto udp\nremote 192.168.0.2 1194\n;remote-random\nresolv-retry infinite\nnobind\npersist-key\npersist-tun\nca ca.crt\nauth-user-pass\nns-cert-type server\n;tls-auth ta.key 0\ncomp-lzo\nverb 3\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u540c\u65f6\u5c06\u670d\u52a1\u5668\u7aef\u7684ca.crt\u62f7\u8d1d\u5230X:\\Program Files\\OpenVPN\\config\\  \u76ee\u5f55\u4e0b\u3002\nwin7\u9700\u8981\u4ee5\u7ba1\u7406\u5458\u8eab\u4efd\u8fd0\u884cOpenVPN GUI \uff0c\u4f7f\u7528daloradius\u91cc\u6dfb\u52a0\u7684\u8d26\u53f7\u5bc6\u7801\u767b\u9646\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u6dfb\u52a0ipv6\u652f\u6301\uff1a"}),"\n",(0,t.jsx)(e.p,{children:"\u8ba9openvpn\u5ba2\u6237\u7aef\u652f\u6301Ipv6\u7f51\u7edc\uff0c\u9700\u8981\u5c06openvpn\u4f7f\u7528\u7684\u865a\u62df\u7f51\u5361\u4e0e\u5177\u6709ipv6\u5730\u5740\u7684\u7269\u7406\u7f51\u5361\u8fdb\u884c\u6865\u63a5\uff0c\u8ba9openvpn\u76d1\u542c\u5728\u6b64\u6865\u63a5\u7684\u865a\u62df\u7f51\u5361\u4e0a\uff0c\u7136\u540e\u901a\u8fc7\u81ea\u52a8DHCP\u5b9e\u73b0\u4e3a\u5ba2\u6237\u7aef\u5206\u914dipv6\u5730\u5740\u3002"}),"\n",(0,t.jsx)(e.p,{children:"\u5b89\u88c5\u914d\u7f6e\u7f51\u5361\u6865\u63a5\uff1a"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"yum  install bridge-utils\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u7f16\u8f91bridge-start\u542f\u52a8\u811a\u672c\uff0c\u6839\u636e\u7cfb\u7edf\u7f51\u7edc\u8bbe\u5907\u5bf9\u5e94\u7f16\u8f91\u3002"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0b\u8f7dradvd\uff1a",(0,t.jsx)(e.a,{href:"http://www.litech.org/radvd/dist/radvd-1.8.tar.gz",children:"http://www.litech.org/radvd/dist/radvd-1.8.tar.gz"})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"tar  xf radvd-* && cd radvd-*\n./configure --sysconfdir=/etc\nmake && make install\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6 vi /etc/radvd.conf"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"interface br0\n{\n    AdvSendAdvert on;\n    MinRtrAdvInterval 3;\n    MaxRtrAdvInterval 10;\n    AdvDefaultPreference low;\n    prefix 2001:250:1002:40::/64 //\u5ba2\u6237\u7aefIPv6\u524d\u7f00\n    {\n        AdvOnLink on;\n        AdvAutonomous on;\n        AdvRouterAddr on;\n    };\n};\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u53c2\u8003\u6587\u6863\uff1a"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"http://howtoforge.org/authentication-authorization-and-accounting-with-freeradius-and-mysql-backend-and-webbased-management-with-daloradius",children:"Authentication, Authorization & Accounting with FreeRadius & MySQL backend & web based Management with Daloradius"})})]})}function l(n={}){const{wrapper:e}={...(0,s.ah)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},3905:(n,e,r)=>{r.d(e,{ah:()=>d});var t=r(7294);function s(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function a(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function i(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function c(n,e){if(null==n)return{};var r,t,s=function(n,e){if(null==n)return{};var r,t,s={},a=Object.keys(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||(s[r]=n[r]);return s}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}var o=t.createContext({}),d=function(n){var e=t.useContext(o),r=e;return n&&(r="function"==typeof n?n(e):i(i({},e),n)),r},p={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},l=t.forwardRef((function(n,e){var r=n.components,s=n.mdxType,a=n.originalType,o=n.parentName,l=c(n,["components","mdxType","originalType","parentName"]),u=d(r),h=s,f=u["".concat(o,".").concat(h)]||u[h]||p[h]||a;return r?t.createElement(f,i(i({ref:e},l),{},{components:r})):t.createElement(f,i({ref:e},l))}));l.displayName="MDXCreateElement"}}]);